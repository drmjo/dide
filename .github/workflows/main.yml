name: Build

on: [push]

jobs:
  build-base:

    runs-on: ubuntu-latest

    steps:
    - name: Has Make?
      run: make --version
    - name: Docker
      env:
        FQIN: drmjo/kubectl:1.14.8
        SHA256SUM: 85548a113564f34e5e60253f8b1616eed0e8c171a6869668beb93d1f97fbea8e
        VERSION: 1.14.8
        APP: kubectl
      run: |
      docker build
        -t ${FQIN}
        --build-arg CI_REGISTRY_IMAGE=${CI_REGISTRY_IMAGE}
        --build-arg SHA256SUM=${SHA256SUM}
        --build-arg VERSION=${VERSION}
        ${APP}

    # - uses: actions/checkout@v1

    # - name: Run a one-line script
    #   run: echo Hello, world!

    # - name: Run a multi-line script
    #   run: |
    #     echo Add other actions to build,
    #     echo test, and deploy your project.
